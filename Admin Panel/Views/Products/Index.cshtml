@using Admin_Panel.Models.ProductsVMs
@using Talabat.Core.Domain_Models
@model List<ProductVM>
@{
    ViewData["Title"] = "Products";
    MainVM mainVM = new MainVM
    {
        Mode = "Product",
        ControllerName = "Products",
        ActionName = "DeleteProduct",
        ParameterName = "ID"
    };
}

@{
    <style>
        .product-img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

            .product-img:hover {
                transform: scale(1.05);
            }

        .AddButton
        {
            position: fixed;
            left: 60px;
            bottom: 60px;
            width:60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .AddButton:hover
        {
            cursor: pointer;
        }

    </style>


    if (Model.Count != 0)
    {
        <table class="table table-striped m-5 text-center">
            <thead>
            <th>Product Picture</th>
            <th>Product Name</th>
            <th>Price</th>
            <th>Brand</th>
            <th>Category</th>
            <th colspan="2">Actions</th>
            </thead>
            <tbody>
                @{
                    foreach (var product in Model)
                    {
                        <tr>
                            <td><img src="https://localhost:7092/@product.PictureURL" class="product-img" alt="@product.Name" /></td>
                            <td>@product.Name</td>
                            <td>@product.Price$</td>
                            <td>@product.BrandName</td>
                            <td>@product.CategoryName</td><td></td>
                            <td><a class="btn btn-warning" asp-action="EditProduct" asp-route-ID="@product.ID"><i class="fa-solid fa-pen-to-square me-1"></i>Edit</a></td>

                            <td>
                                <button class="btn btn-danger" onclick="DeleteConfirmation('@product.ID')"><i class="fa-solid fa-trash me-1"></i>Delete</button>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
        // <div class="w-100 d-flex justify-content-center align-items-center">
        //     <a class="btn btn-info" asp-action="RoleCreation">Add New Role</a>
        // </div>
    }
    else
    {
        <div class="d-flex justify-content-center align-items-center min-vh-100 bg-light text-dark">
            <div class="card shadow-lg p-4 text-center" style="width: 350px;">
                <div class="card-body">
                    <h5 class="card-title mb-3 fs-4">No Products Found</h5>
                    <p class="text-muted">There are currently no Product records available.</p>
                    <a asp-action="RoleCreation" class="btn btn-primary w-75">Create Product</a>
                </div>
            </div>
        </div>
    }
}


<a asp-action="Create" class="AddButton bg-info"><i class="fa-solid fa-plus"></i></a>

<partial name="Main_partial" model="mainVM" />